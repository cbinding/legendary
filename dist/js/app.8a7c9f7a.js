(function(){"use strict";var e={7714:function(e,t,n){var l=n(9242),o=n(2578),a=n(3396);const r={class:"container"};function s(e,t,n,l,o,s){const i=(0,a.up)("LegendBuilder");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(i)])}n(2062);var i=n(7139),d=n(4870);n(7658);const c=(0,o.Q_)("legend",{state:()=>({title:"",description:"",creator:"",contact:"",version:"",license:"",created:(new Date).toISOString(),updated:(new Date).toISOString(),items:[],nextID:0}),getters:{itemCount:e=>e.items.length,palette:e=>e.items.map((e=>e.colour)).filter((e=>e))},actions:{reset(){this.title="",this.description="",this.creator="",this.contact="",this.version="",this.license="",this.created=(new Date).toISOString(),this.updated=this.created,this.items=[],this.nextID=0},importJSON(e){this.reset();const t=JSON.parse(e);this.setTitle(t.title||""),this.setDescription(t.description||""),this.setCreator(t.creator||""),this.setContact(t.contact||""),this.setVersion(t.version||""),this.setLicense(t.license||""),(t.items||[]).forEach((e=>this.addItem(e)))},exportJSON(){return JSON.stringify(this.$state)},stampUpdated(){this.updated=(new Date).toISOString()},setTitle(e){const t=(e||"").trim();this.title!==t&&(this.title=t,this.stampUpdated())},setDescription(e){const t=(e||"").trim();this.description!==t&&(this.description=t,this.stampUpdated())},setCreator(e){const t=(e||"").trim();this.creator!==t&&(this.creator=t,this.stampUpdated())},setContact(e){const t=(e||"").trim();this.contact!==t&&(this.contact=t,this.stampUpdated())},setVersion(e){const t=(e||"").trim();this.version!==t&&(this.version=t,this.stampUpdated())},setLicense(e){const t=(e||"").trim();this.license!==t&&(this.license=t,this.stampUpdated())},newItem(){this.addItem({colour:"#dddddd",label:"new item"})},addItem(e){this.items.push({...e,id:this.nextID++}),this.stampUpdated()},getItem(e){const t=this.items.find((t=>t.id===e));return t||null},delItem(e){this.items=this.items.filter((t=>t.id!==e)),this.stampUpdated()},setItemColour(e,t){const n=this.getItem(e);n&&n.colour!==t&&(n.colour=t,this.stampUpdated())},setItemLabel(e,t){const n=this.getItem(e);n&&n.label!==t&&(n.label=t,this.stampUpdated())}}}),u=e=>((0,a.dD)("data-v-6f13f370"),e=e(),(0,a.Cn)(),e),m={class:"legend-metadata"},p={class:"mb-2"},g=u((()=>(0,a._)("label",{for:"legend-title"},"Title",-1))),h={class:"mb-2"},f=u((()=>(0,a._)("label",{for:"legend-description"},"Description",-1))),v={class:"mb-2"},b=u((()=>(0,a._)("label",{for:"legend-creator"},"Creator",-1))),_={class:"mb-2"},y=u((()=>(0,a._)("label",{for:"legend-contact"},"Contact",-1))),w={class:"mb-2"},C=u((()=>(0,a._)("label",{for:"legend-version"},"Version",-1))),I={class:"mb-2"},x=u((()=>(0,a._)("label",{for:"legend-license"},"License",-1))),U={class:"mb-2"},k=u((()=>(0,a._)("label",{for:"legend-created"},"Created",-1))),D={class:"mb-2"},O=u((()=>(0,a._)("label",{for:"legend-updated"},"Updated",-1)));var S={__name:"LegendMetadata",setup(e){const t=c(),n=(0,a.Fl)({get(){return t.$state.title},set(e){t.setTitle(e)}}),o=(0,a.Fl)({get(){return t.$state.description},set(e){t.setDescription(e)}}),r=(0,a.Fl)({get(){return t.$state.creator},set(e){t.setCreator(e)}}),s=(0,a.Fl)({get(){return t.$state.contact},set(e){t.setContact(e)}}),i=(0,a.Fl)({get(){return t.$state.version},set(e){t.setVersion(e)}}),d=(0,a.Fl)({get(){return t.$state.license},set(e){t.setLicense(e)}}),u=(0,a.Fl)((()=>t.$state.created)),S=(0,a.Fl)((()=>t.$state.updated));return(e,t)=>((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("form",null,[(0,a._)("div",p,[g,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),id:"legend-title",title:"legend title",placeholder:"enter a title for the legend",class:"form-control form-control-sm shadow-sm rounded hoverable"},null,512),[[l.nr,n.value]])]),(0,a._)("div",h,[f,(0,a.wy)((0,a._)("textarea",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),id:"legend-description",title:"legend description",placeholder:"enter a description for the legend",class:"form-control form-control-sm shadow-sm rounded hoverable"},"\n                ",512),[[l.nr,o.value]])]),(0,a._)("div",v,[b,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>r.value=e),id:"legend-creator",title:"legend creator",placeholder:"enter name of creator for the legend",class:"form-control form-control-sm shadow-sm rounded hoverable"},null,512),[[l.nr,r.value]])]),(0,a._)("div",_,[y,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>s.value=e),id:"legend-contact",title:"legend contact",placeholder:"enter contact details (e.g. email address) for the legend creator",class:"form-control form-control-sm shadow-sm rounded hoverable"},null,512),[[l.nr,s.value]])]),(0,a._)("div",w,[C,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>i.value=e),id:"legend-version",title:"legend version",placeholder:"enter version for the legend",class:"form-control form-control-sm shadow-sm rounded hoverable"},null,512),[[l.nr,i.value]])]),(0,a._)("div",I,[x,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>d.value=e),id:"legend-license",title:"legend license",placeholder:"enter license details (e.g. licence url) for the legend data",class:"form-control form-control-sm shadow-sm rounded hoverable"},null,512),[[l.nr,d.value]])]),(0,a._)("div",U,[k,(0,a.wy)((0,a._)("input",{id:"legend-created","aria-disabled":"true",class:"form-control form-control-sm shadow-sm rounded","onUpdate:modelValue":t[6]||(t[6]=e=>u.value=e),disabled:""},null,512),[[l.nr,u.value]])]),(0,a._)("div",D,[O,(0,a.wy)((0,a._)("input",{id:"legend-updated","aria-disabled":"true",class:"form-control form-control-sm shadow-sm rounded","onUpdate:modelValue":t[7]||(t[7]=e=>S.value=e),disabled:""},null,512),[[l.nr,S.value]])])])]))}},L=n(89);const F=(0,L.Z)(S,[["__scopeId","data-v-6f13f370"]]);var V=F;const $=e=>((0,a.dD)("data-v-1e8d36b8"),e=e(),(0,a.Cn)(),e),B={class:"input-group input-group-sm flex-nowrap m-0 p-0 border"},M={class:"input-group-text p-0 border-0"},j=["title","alt"],E={class:"input-group-text p-0 border-0"},N=["title"],T=$((()=>(0,a._)("i",{class:"bi bi-x-circle"},null,-1))),A=[T];var J={__name:"LegendItem",props:{colour:{type:String,required:!1,default:"#FFFFFF"},label:{type:String,required:!1,default:""}},emits:["changeColour","changeLabel","deleteItem"],setup(e,{emit:t}){const n=e,o=(0,a.Fl)({get(){return n.colour},set(e){t("changeColour",e)}}),r=(0,a.Fl)({get(){return n.label},set(e){t("changeLabel",e)}});return(t,n)=>((0,a.wg)(),(0,a.iD)("div",B,[(0,a._)("div",M,[(0,a.wy)((0,a._)("input",{type:"color",class:"legend-item-colour form-control form-control-sm form-control-color border-0 rounded-0","aria-label":"Colour",title:o.value,alt:o.value,"onUpdate:modelValue":n[0]||(n[0]=e=>o.value=e),onChange:n[1]||(n[1]=(...e)=>t.changeColour&&t.changeColour(...e))},null,40,j),[[l.nr,o.value]])]),(0,a.wy)((0,a._)("input",{type:"text",class:"legend-item-label form-control form-control-sm p-1 border-0",placeholder:"Enter label for the legend item","onUpdate:modelValue":n[2]||(n[2]=e=>r.value=e),onChange:n[3]||(n[3]=(...e)=>t.changeLabel&&t.changeLabel(...e))},null,544),[[l.nr,r.value]]),(0,a._)("div",E,[(0,a._)("button",{class:"btn btn-sm btn-outline-secondary border-0",title:`delete '${e.label}'`,alt:"delete item",onClick:n[4]||(n[4]=(0,l.iM)((e=>t.$emit("deleteItem")),["prevent"]))},A,8,N)])]))}};const Z=(0,L.Z)(J,[["__scopeId","data-v-1e8d36b8"]]);var W=Z;const R=e=>((0,a.dD)("data-v-735a7136"),e=e(),(0,a.Cn)(),e),q=R((()=>(0,a._)("i",{class:"bi bi-plus-circle"},null,-1))),H={id:"legend-items",class:"legend-items list-group"};var P={__name:"LegendItems",setup(e){const t=c(),n=(0,a.Fl)((()=>t.$state.items)),o=()=>t.newItem(),r=e=>{confirm(`delete "${e.label}" - are you sure?`)&&t.delItem(e.id)},s=(e,n)=>t.setItemColour(e,n),i=(e,n)=>t.setItemLabel(e,n);return(e,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("button",{class:"btn btn-sm btn-outline-secondary mb-2",onClick:t[0]||(t[0]=(0,l.iM)((e=>o()),["prevent"])),title:"add item",alt:"add item",id:"add"},[q,(0,a.Uk)(" Add Item")]),(0,a._)("ul",H,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.value,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:"list-group-item1 p-0"},[(0,a.Wm)((0,d.SU)(W),{colour:e.colour,label:e.label,onChangeColour:t=>s(e.id,t),onChangeLabel:t=>i(e.id,t),onDeleteItem:t=>r(e)},null,8,["colour","label","onChangeColour","onChangeLabel","onDeleteItem"])])))),128))])]))}};const z=(0,L.Z)(P,[["__scopeId","data-v-735a7136"]]);var K=z;const Q=e=>((0,a.dD)("data-v-41658819"),e=e(),(0,a.Cn)(),e),Y={class:"card"},G=Q((()=>(0,a._)("div",{class:"card-header text-center fw-bold"},"Legendary",-1))),X={class:"card-body p-2"},ee={class:"input-group input-group-sm p-1"},te=Q((()=>(0,a._)("label",{for:"importfile",class:"input-group-text"},[(0,a._)("i",{class:"bi bi-filetype-json"}),(0,a.Uk)(" Import")],-1))),ne=["onChange"],le={class:"input-group input-group-sm p-1"},oe=Q((()=>(0,a._)("label",{for:"exportfile",class:"input-group-text"},[(0,a._)("i",{class:"bi bi-filetype-json"}),(0,a.Uk)(" Export")],-1))),ae=["onClick"],re=Q((()=>(0,a._)("input",{type:"text",class:"form-control form-control-sm",disabled:""},null,-1))),se=["onClick"],ie=Q((()=>(0,a._)("i",{class:"bi bi-x-circle"},null,-1))),de={class:"nav nav-tabs"},ce={class:"badge text-bg-light border rounded-pill"},ue={id:"Items",class:"tabcontent bg-light"},me={id:"Metadata",class:"tabcontent bg-light"};var pe={__name:"LegendBuilder",setup(e){const t=c(),n=(0,a.Fl)((()=>t.items.length)),o=(0,d.iH)("");(0,a.bv)((()=>{document.getElementById("defaultOpen").click()}));const r=()=>{confirm("This will clear all data, are you sure?")&&(document.getElementById("importfile").value="",t.reset())},s=e=>{o.value=e.target.files[0];const n=new FileReader;n.onload=function(e){t.importJSON(e.target.result)},n.readAsText(o.value)},u=()=>(new Date).toISOString(),m=()=>u().replaceAll(/[:.\-Z]/g,""),p=()=>{const e=t.exportJSON(),n=o.value?.name||`legend-${m()}.json`;g(e,n),document.getElementById("importfile").value=""},g=(e,t)=>{let n=new Blob([e],{type:"text/plain;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(n,t);else{let e=document.createElement("a");if(void 0!==e.download){let l=URL.createObjectURL(n);e.setAttribute("href",l),e.setAttribute("download",t),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}},h=(e,t)=>{var n,l;n=document.getElementsByClassName("tabcontent");for(let o=0;o<n.length;o++)n[o].style.display="none";l=document.getElementsByClassName("nav-link");for(let o=0;o<l.length;o++)l[o].className=l[o].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",Y,[G,(0,a._)("div",X,[(0,a._)("div",ee,[te,(0,a._)("input",{type:"file",id:"importfile",name:"importfile",accept:"application/json",class:"form-control form-control-sm",onChange:(0,l.iM)(s,["stop"])},null,40,ne)]),(0,a._)("div",le,[oe,(0,a._)("button",{type:"button",id:"exportfile",name:"exportfile",class:"btn btn-sm btn-outline-secondary",onClick:(0,l.iM)(p,["stop"])},"Choose file",8,ae),re,(0,a._)("button",{type:"button",onClick:(0,l.iM)(r,["stop"]),class:"btn btn-sm btn-outline-secondary rounded shadow"},[ie,(0,a.Uk)(" Clear All")],8,se)]),(0,a._)("div",de,[(0,a._)("a",{class:"nav-link",href:"#",onClick:t[0]||(t[0]=(0,l.iM)((e=>h(e,"Items")),["stop"])),id:"defaultOpen"},[(0,a.Uk)("Items "),(0,a._)("span",ce,(0,i.zw)(n.value),1)]),(0,a._)("a",{class:"nav-link",href:"#",onClick:t[1]||(t[1]=(0,l.iM)((e=>h(e,"Metadata")),["stop"]))},"Metadata")]),(0,a._)("div",ue,[(0,a.Wm)((0,d.SU)(K))]),(0,a._)("div",me,[(0,a.Wm)((0,d.SU)(V))])])]))}};const ge=(0,L.Z)(pe,[["__scopeId","data-v-41658819"]]);var he=ge,fe={name:"App",components:{LegendBuilder:he}};const ve=(0,L.Z)(fe,[["render",s]]);var be=ve;const _e=(0,o.WB)(),ye=(0,l.ri)(be);ye.use(_e),ye.mount("#app")}},t={};function n(l){var o=t[l];if(void 0!==o)return o.exports;var a=t[l]={exports:{}};return e[l].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,l,o,a){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],o=e[c][1],a=e[c][2];for(var s=!0,i=0;i<l.length;i++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](l[i])}))?l.splice(i--,1):(s=!1,a<r&&(r=a));if(s){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[l,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,a,r=l[0],s=l[1],i=l[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(i)var c=i(n)}for(t&&t(l);d<r.length;d++)a=r[d],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},l=self["webpackChunklegendary"]=self["webpackChunklegendary"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(7714)}));l=n.O(l)})();
//# sourceMappingURL=app.8a7c9f7a.js.map